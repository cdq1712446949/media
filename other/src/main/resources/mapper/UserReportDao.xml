<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.cdq.dao.UserReportDao">

    <!--添加举报记录-->
    <insert id="insertUserReport" parameterType="com.cdq.model.UserReport" useGeneratedKeys="true"
    keyProperty="userReportId">

        insert into user_report(
        report_user_id,reproted_user_id,report_reason_id,
        user_report_content,user_report_create_time
        <if test="article!=null and article.articleId!=null">,article_id</if>
        <if test="userComment!=null and userComment.userCommentId!=null">,user_comment_id</if>
        ) values(
        #{reportUser.userId},#{reprotedUser.userId},#{reportReason.reportReasonId},
        #{userReportContent},#{userReportCreateTime}
        <if test="article!=null and article.articleId!=null">,#{article.articleId}</if>
        <if test="userComment!=null and userComment.userCommentId!=null">,#{userComment.userCommentId}</if>
        )
    </insert>

</mapper>